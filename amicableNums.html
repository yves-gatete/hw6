<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" type="text/css" href="style.css">
    <title>Amicable Numbers</title>
  </head>
  <body>
	<header>
	<h1> Amicable Numbers Check </h1>
	<img src="amic.jpg" width="300">
  </header>
    <section class="container">
      <form id="my-form">
        <div class="msg"></div>
        <div>
          <label for="firstNum"> First Number:</label>
          <input type="text" id="first">
        </div>
        <div>
          <label for="secondNum"> Second Number:</label>
          <input type="text" id="second">
        </div>
        <input class="btn" type="submit" value="Submit">
      </form>

      <div id="other-div"></div>
    </section>

	<script language="javascript">

	// Put DOM elements into variables
	const myForm = document.querySelector('#my-form');
	const firstInput = document.querySelector('#first');
	const secondInput = document.querySelector('#second');
	const divElement = document.querySelector('#other-div');

	// Listen for form submit
	myForm.addEventListener('submit', onSubmit);

	function onSubmit(event) {
	  event.preventDefault();
	    // Create new list item with user
	    const div = document.createElement('div');

	    // Displaying factors

	    firstNumber = parseInt(firstInput.value);
	   	secondNumber = parseInt(secondInput.value);

	    firstNumFactors = Factorize(firstNumber); 
	    alert("The factors of " + firstNumber + " are " + firstNumFactors)
	    secondNumFactors = Factorize(secondNumber);
	    alert("The factors of " + secondNumber + " are " + secondNumFactors)

	    // getting sums
	    firstSum = getSum(firstNumFactors);
	    secondSum = getSum(secondNumFactors);

	    // compare sums

	    if(isEqual(firstSum,secondSum))
	    {
	    	// Add text node with input values
	    	div.appendChild(document.createTextNode("The numbers " + firstNumber + " and " + secondNumber + " are amicable"));
	    }
	    else
	    {
	    	div.appendChild(document.createTextNode("The numbers " + firstNumber + " and " + secondNumber + " are not amicable"));
	    }

	    // Append to body
	    divElement.appendChild(div);
	    // Clear fields
	    firstInput.value = '';
	    secondInput.value = '';
	}

	// getting factors
	function Factorize(num) 
	{
		// initialize an array
  		factors = [];
	  	for (let i=1; i <= Math.sqrt(num); i++) 
	  	{
	    	if (num % i === 0) 
	    	{
	      		factors.push(i);
	      		if (i !== Math.sqrt(num))
	      		{
	      			factors.push(num/i);
	      		}
	      	}
	      	
	  	}

	  	if (factors.indexOf(num) === -1)
	  	{
	  		factors.push(A);
	  	}

	  	return factors.sort(function(a, b){return a-b});
	}

	// get the sums
	function getSum(arr1)
    {
    	sum = 0;
    	for(i = 0; i < arr1.length; i++)
        {
        	sum = sum + arr1[i];
        }
        return sum;
    }

	// compare sums
	function isEqual(num1, num2)
	{
		if(num1 == num2)
		{
			return true;
		}
		return false;
	}







</script>

</body>
</html>